{"ast":null,"code":"var _jsxFileName = \"/Users/trantuan/Downloads/tix-clone-demo/src/containers/HomeTemplate/Purchase/index.js\",\n    _s = $RefreshSig$();\n\nimport { Divider, Grid, Typography, Button } from \"@material-ui/core\";\nimport React, { useEffect } from \"react\";\nimport { actGetMovieShowtimesApi, actBookTicket } from \"./modules/action\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useStyles } from \"./style\"; // import Spinner from \"react-spinner-material\";\n\nimport { Fragment } from \"react\";\nimport { CURRENTUSER } from \"./modules/newconstant\";\nimport LoadingPage from \"../../../components/LoadingPage\";\nimport Swal from \"sweetalert2\";\nimport { useHistory } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Purchase(props) {\n  _s();\n\n  // const renderLoading = () => {\n  //   return (\n  //     <div\n  //       style={{\n  //         height: \"30vh\",\n  //         display: \"flex\",\n  //         alignItems: \"center\",\n  //         justifyContent: \"center\",\n  //         borderColor: \"#0ff\",\n  //       }}\n  //     >\n  //       <Spinner\n  //         size={120}\n  //         spinnercolor={\"#00f\"}\n  //         spinnerWidth={1}\n  //         visible={true}\n  //       />\n  //     </div>\n  //   );\n  // };\n  const movieShowtimes = useSelector(state => state.movieShowtimesReducer);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    let showtimesID = props.match.params.maLichChieu;\n    dispatch(actGetMovieShowtimesApi(showtimesID));\n  }, [dispatch, props.match.params.maLichChieu]); // const [num, setnum] = useState(0);\n  // const [flag, setFlag] = useState(false);\n  // const [totalMoney, setTotalMoney] = useState(0);\n  // const [selectedChair, setSelectedChair] = useState(null);\n  // const chairRowArray = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"J\", \"K\"];\n  // const renderChairRow = (index) => {\n  //   return (\n  //     <div className={classes.rowChairContainer}>\n  //       <Typography className={classes.rowChairName}>\n  //         {chairRowArray[index]}\n  //       </Typography>\n  //     </div>\n  //   );\n  // };\n\n  const renderMovieChair = data => {\n    return data.danhSachGhe.map((chair, index) => {\n      let indexChair = movieShowtimes.bookingChairList.findIndex(choseChair => choseChair.maGhe === chair.maGhe);\n      let classBookedChair = chair.daDat ? classes.bookedChair : null;\n      let classVipChair = chair.loaiGhe === \"Vip\" ? classes.vipChair : null;\n      let classChoosingChair = \"\";\n\n      if (indexChair !== -1) {\n        classChoosingChair = \"green\"; // console.log(classChoosingChair, \"aa\");\n      }\n\n      return /*#__PURE__*/_jsxDEV(Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          disabled: chair.daDat,\n          className: `${classes.chair} ${classBookedChair} ${classVipChair}`,\n          style: {\n            backgroundColor: `${classChoosingChair}`\n          },\n          onClick: () => {\n            dispatch({\n              type: \"CHOOSE_CHAIR\",\n              payload: chair\n            });\n          },\n          children: chair.daDat ? \"X\" : chair.stt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this), (index + 1) % 16 === 0 ? /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 37\n        }, this) : \"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: classes.root,\n    children: movieShowtimes.loading ? /*#__PURE__*/_jsxDEV(LoadingPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 8,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.chairContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"image\", {\n            style: {\n              width: \"100%\"\n            },\n            src: \"https://tix.vn/app/assets/img/icons/screen.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              width: \"79.9%\",\n              margin: \"0 auto\"\n            },\n            children: movieShowtimes.data ? renderMovieChair(movieShowtimes.data) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.demoChairContainer,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.demoChairGroup,\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                disabled: true,\n                className: `${classes.chair} ${classes.bookedChair} ${classes.demoChair}`,\n                children: \"X\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"\\u0110\\xE3 \\u0111\\u1EB7t\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.demoChairGroup,\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                disabled: true,\n                className: `${classes.chair} ${classes.demoChair}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"Th\\u01B0\\u1EDDng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: classes.demoChairGroup,\n              children: [/*#__PURE__*/_jsxDEV(Button, {\n                disabled: true,\n                className: `${classes.chair} ${classes.vipChair} ${classes.demoChair}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                children: \"Vip\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 130,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), movieShowtimes.data ? /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 4,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.datveBox,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: classes.sectionSpacing,\n            children: /*#__PURE__*/_jsxDEV(Typography, {\n              style: {\n                color: \"#8bc34a\",\n                fontSize: \"35px\",\n                textAlign: \"center\"\n              },\n              children: [movieShowtimes.bookingChairList.reduce((tongTien, gheDD, index) => {\n                return tongTien += gheDD.giaVe;\n              }, 0), \"VND\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            variant: \"middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.sectionSpacing} ${classes.flexInfo}`,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              children: \"C\\u1EE5m R\\u1EA1p:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 159,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              className: classes.spanInfo,\n              children: movieShowtimes.data.thongTinPhim.tenCumRap\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            variant: \"middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.sectionSpacing} ${classes.flexInfo}`,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              children: \"\\u0110\\u1ECBa ch\\u1EC9:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              className: `${classes.spanInfo} ${classes.textElipsis}`,\n              children: movieShowtimes.data.thongTinPhim.diaChi\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            variant: \"middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.sectionSpacing} ${classes.flexInfo}`,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              children: \"R\\u1EA1p:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              className: classes.spanInfo,\n              children: movieShowtimes.data.thongTinPhim.tenRap\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            variant: \"middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.sectionSpacing} ${classes.flexInfo}`,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              children: \"Ng\\xE0y gi\\u1EDD chi\\u1EBFu:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              className: classes.spanInfo,\n              children: [movieShowtimes.data.thongTinPhim.ngayChieu, \" -\", /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  color: \"red\"\n                },\n                children: movieShowtimes.data.thongTinPhim.gioChieu\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 192,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            variant: \"middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.sectionSpacing} ${classes.flexInfo}`,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              children: \"T\\xEAn Phim:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              className: classes.spanInfo,\n              children: movieShowtimes.data.thongTinPhim.tenPhim\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            variant: \"middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `${classes.sectionSpacing} ${classes.flexInfo}`,\n            children: [/*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              children: \"Ch\\u1ECDn: \"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              variant: \"h3\",\n              className: classes.spanInfo,\n              children: movieShowtimes.bookingChairList.map((bookChair, index) => {\n                return /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [\"Gh\\u1EBF \", bookChair.stt, \", \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 213,\n                  columnNumber: 30\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Divider, {\n            variant: \"middle\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            onClick: () => {\n              if (!localStorage.getItem(CURRENTUSER)) {\n                Swal.fire({\n                  icon: \"error\",\n                  title: \"Bạn chưa đăng nhập\",\n                  text: \"Bạn có muốn đăng nhập không ?\",\n                  confirmButtonText: \"Đồng ý\",\n                  showDenyButton: true,\n                  denyButtonText: \"Không\"\n                }).then(result => {\n                  if (result.isConfirmed) {\n                    history.push(\"/sign-in\");\n                  }\n                });\n                return;\n              }\n\n              if (movieShowtimes.bookingChairList.length === 0) {\n                Swal.fire({\n                  icon: \"error\",\n                  title: \"Bạn chưa chọn ghế\",\n                  text: \"Vui lòng chọn ghế ?\",\n                  confirmButtonText: \"Đã hiểu\"\n                });\n                return;\n              }\n\n              let userLogin = JSON.parse(localStorage.getItem(CURRENTUSER));\n              let objectAPI = {\n                maLichChieu: props.match.params.maLichChieu,\n                danhSachVe: movieShowtimes.bookingChairList,\n                taiKhoanNguoiDung: userLogin.taiKhoan\n              }; // console.log(objectAPI);\n\n              const action = actBookTicket(objectAPI);\n              dispatch(action);\n              Swal.fire({\n                icon: \"success\",\n                title: \"Đặt vé thành công\",\n                text: \"Kiểm tra trong lịch sử đặt vé\",\n                confirmButtonText: \"Đồng ý\"\n              }).then(result => {\n                if (result.isConfirmed) {\n                  dispatch(actGetMovieShowtimesApi(props.match.params.maLichChieu));\n                } else {\n                  dispatch(actGetMovieShowtimesApi(props.match.params.maLichChieu));\n                }\n              });\n            },\n            className: classes.buttonPurchase,\n            children: \"\\u0110\\u1EB6T V\\xC9\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }, this) : null]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Purchase, \"6oe+JkcEdzYXjYyrOXqLyRj3uaY=\", false, function () {\n  return [useSelector, useDispatch, useHistory, useStyles];\n});\n\n_c = Purchase;\nexport default Purchase;\n\nvar _c;\n\n$RefreshReg$(_c, \"Purchase\");","map":{"version":3,"sources":["/Users/trantuan/Downloads/tix-clone-demo/src/containers/HomeTemplate/Purchase/index.js"],"names":["Divider","Grid","Typography","Button","React","useEffect","actGetMovieShowtimesApi","actBookTicket","useDispatch","useSelector","useStyles","Fragment","CURRENTUSER","LoadingPage","Swal","useHistory","Purchase","props","movieShowtimes","state","movieShowtimesReducer","dispatch","history","showtimesID","match","params","maLichChieu","renderMovieChair","data","danhSachGhe","map","chair","index","indexChair","bookingChairList","findIndex","choseChair","maGhe","classBookedChair","daDat","classes","bookedChair","classVipChair","loaiGhe","vipChair","classChoosingChair","backgroundColor","type","payload","stt","root","loading","chairContainer","width","margin","demoChairContainer","demoChairGroup","demoChair","datveBox","sectionSpacing","color","fontSize","textAlign","reduce","tongTien","gheDD","giaVe","flexInfo","spanInfo","thongTinPhim","tenCumRap","textElipsis","diaChi","tenRap","ngayChieu","gioChieu","tenPhim","bookChair","localStorage","getItem","fire","icon","title","text","confirmButtonText","showDenyButton","denyButtonText","then","result","isConfirmed","push","length","userLogin","JSON","parse","objectAPI","danhSachVe","taiKhoanNguoiDung","taiKhoan","action","buttonPurchase"],"mappings":"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","sourcesContent":["import { Divider, Grid, Typography, Button } from \"@material-ui/core\";\nimport React, { useEffect } from \"react\";\nimport { actGetMovieShowtimesApi, actBookTicket } from \"./modules/action\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useStyles } from \"./style\";\n// import Spinner from \"react-spinner-material\";\nimport { Fragment } from \"react\";\nimport { CURRENTUSER } from \"./modules/newconstant\";\nimport LoadingPage from \"../../../components/LoadingPage\";\nimport Swal from \"sweetalert2\";\nimport { useHistory } from \"react-router\";\n\nfunction Purchase(props) {\n  // const renderLoading = () => {\n  //   return (\n  //     <div\n  //       style={{\n  //         height: \"30vh\",\n  //         display: \"flex\",\n  //         alignItems: \"center\",\n  //         justifyContent: \"center\",\n  //         borderColor: \"#0ff\",\n  //       }}\n  //     >\n  //       <Spinner\n  //         size={120}\n  //         spinnercolor={\"#00f\"}\n  //         spinnerWidth={1}\n  //         visible={true}\n  //       />\n  //     </div>\n  //   );\n  // };\n  const movieShowtimes = useSelector((state) => state.movieShowtimesReducer);\n  const dispatch = useDispatch();\n  const history = useHistory();\n  useEffect(() => {\n    let showtimesID = props.match.params.maLichChieu;\n    dispatch(actGetMovieShowtimesApi(showtimesID));\n  }, [dispatch, props.match.params.maLichChieu]);\n\n  // const [num, setnum] = useState(0);\n  // const [flag, setFlag] = useState(false);\n  // const [totalMoney, setTotalMoney] = useState(0);\n  // const [selectedChair, setSelectedChair] = useState(null);\n  // const chairRowArray = [\"A\", \"B\", \"C\", \"D\", \"E\", \"F\", \"G\", \"H\", \"J\", \"K\"];\n  // const renderChairRow = (index) => {\n  //   return (\n  //     <div className={classes.rowChairContainer}>\n  //       <Typography className={classes.rowChairName}>\n  //         {chairRowArray[index]}\n  //       </Typography>\n  //     </div>\n  //   );\n  // };\n  const renderMovieChair = (data) => {\n    return data.danhSachGhe.map((chair, index) => {\n      let indexChair = movieShowtimes.bookingChairList.findIndex(\n        (choseChair) => choseChair.maGhe === chair.maGhe\n      );\n      let classBookedChair = chair.daDat ? classes.bookedChair : null;\n      let classVipChair = chair.loaiGhe === \"Vip\" ? classes.vipChair : null;\n      let classChoosingChair = \"\";\n      if (indexChair !== -1) {\n        classChoosingChair = \"green\";\n        // console.log(classChoosingChair, \"aa\");\n      }\n      return (\n        <Fragment>\n          <Button\n            disabled={chair.daDat}\n            className={`${classes.chair} ${classBookedChair} ${classVipChair}`}\n            style={{ backgroundColor: `${classChoosingChair}` }}\n            onClick={() => {\n              dispatch({\n                type: \"CHOOSE_CHAIR\",\n                payload: chair,\n              });\n            }}\n          >\n            {chair.daDat ? \"X\" : chair.stt}\n          </Button>\n          {/* {(index + 1) % 16 === 0 ? renderChairRow(num) : \"\"} */}\n          {(index + 1) % 16 === 0 ? <br /> : \"\"}\n        </Fragment>\n      );\n    });\n  };\n  const classes = useStyles();\n  return (\n    <div className={classes.root}>\n      {movieShowtimes.loading ? (\n        <LoadingPage />\n      ) : (\n        <Grid container>\n          <Grid item xs={8}>\n            <div className={classes.chairContainer}>\n              <image\n                style={{ width: \"100%\" }}\n                src=\"https://tix.vn/app/assets/img/icons/screen.png\"\n              />\n              <div style={{ width: \"79.9%\", margin: \"0 auto\" }}>\n                {movieShowtimes.data\n                  ? renderMovieChair(movieShowtimes.data)\n                  : null}\n              </div>\n              <div className={classes.demoChairContainer}>\n                <div className={classes.demoChairGroup}>\n                  <Button\n                    disabled={true}\n                    className={`${classes.chair} ${classes.bookedChair} ${classes.demoChair}`}\n                  >\n                    X\n                  </Button>\n                  <Typography>Đã đặt</Typography>\n                </div>\n                <div className={classes.demoChairGroup}>\n                  <Button\n                    disabled={true}\n                    className={`${classes.chair} ${classes.demoChair}`}\n                  ></Button>\n                  <Typography>Thường</Typography>\n                </div>\n                <div className={classes.demoChairGroup}>\n                  <Button\n                    disabled={true}\n                    className={`${classes.chair} ${classes.vipChair} ${classes.demoChair}`}\n                  ></Button>\n\n                  <Typography>Vip</Typography>\n                </div>\n              </div>\n            </div>\n          </Grid>\n          {movieShowtimes.data ? (\n            <Grid item xs={4}>\n              <div className={classes.datveBox}>\n                <div className={classes.sectionSpacing}>\n                  <Typography\n                    style={{\n                      color: \"#8bc34a\",\n                      fontSize: \"35px\",\n                      textAlign: \"center\",\n                    }}\n                  >\n                    {movieShowtimes.bookingChairList.reduce(\n                      (tongTien, gheDD, index) => {\n                        return (tongTien += gheDD.giaVe);\n                      },\n                      0\n                    )}\n                    VND\n                  </Typography>\n                </div>\n                <Divider variant=\"middle\" />\n                <div\n                  className={`${classes.sectionSpacing} ${classes.flexInfo}`}\n                >\n                  <Typography variant=\"h3\">Cụm Rạp:</Typography>\n                  <Typography variant=\"h3\" className={classes.spanInfo}>\n                    {movieShowtimes.data.thongTinPhim.tenCumRap}\n                  </Typography>\n                </div>\n                <Divider variant=\"middle\" />\n                <div\n                  className={`${classes.sectionSpacing} ${classes.flexInfo}`}\n                >\n                  <Typography variant=\"h3\">Địa chỉ:</Typography>\n                  <Typography\n                    variant=\"h3\"\n                    className={`${classes.spanInfo} ${classes.textElipsis}`}\n                  >\n                    {movieShowtimes.data.thongTinPhim.diaChi}\n                  </Typography>\n                </div>\n                <Divider variant=\"middle\" />\n                <div\n                  className={`${classes.sectionSpacing} ${classes.flexInfo}`}\n                >\n                  <Typography variant=\"h3\">Rạp:</Typography>\n                  <Typography variant=\"h3\" className={classes.spanInfo}>\n                    {movieShowtimes.data.thongTinPhim.tenRap}\n                  </Typography>\n                </div>\n                <Divider variant=\"middle\" />\n                <div\n                  className={`${classes.sectionSpacing} ${classes.flexInfo}`}\n                >\n                  <Typography variant=\"h3\">Ngày giờ chiếu:</Typography>\n                  <Typography variant=\"h3\" className={classes.spanInfo}>\n                    {movieShowtimes.data.thongTinPhim.ngayChieu} -\n                    <span style={{ color: \"red\" }}>\n                      {movieShowtimes.data.thongTinPhim.gioChieu}\n                    </span>\n                  </Typography>\n                </div>\n                <Divider variant=\"middle\" />\n                <div\n                  className={`${classes.sectionSpacing} ${classes.flexInfo}`}\n                >\n                  <Typography variant=\"h3\">Tên Phim:</Typography>\n                  <Typography variant=\"h3\" className={classes.spanInfo}>\n                    {movieShowtimes.data.thongTinPhim.tenPhim}\n                  </Typography>\n                </div>\n                <Divider variant=\"middle\" />\n                <div\n                  className={`${classes.sectionSpacing} ${classes.flexInfo}`}\n                >\n                  <Typography variant=\"h3\">Chọn: </Typography>\n                  <Typography variant=\"h3\" className={classes.spanInfo}>\n                    {movieShowtimes.bookingChairList.map((bookChair, index) => {\n                      return <span>Ghế {bookChair.stt}, </span>;\n                    })}\n                  </Typography>\n                </div>\n                <Divider variant=\"middle\" />\n                <Button\n                  onClick={() => {\n                    if (!localStorage.getItem(CURRENTUSER)) {\n                      Swal.fire({\n                        icon: \"error\",\n                        title: \"Bạn chưa đăng nhập\",\n                        text: \"Bạn có muốn đăng nhập không ?\",\n                        confirmButtonText: \"Đồng ý\",\n                        showDenyButton: true,\n                        denyButtonText: \"Không\",\n                      }).then((result) => {\n                        if (result.isConfirmed) {\n                          history.push(\"/sign-in\");\n                        }\n                      });\n                      return;\n                    }\n                    if (movieShowtimes.bookingChairList.length === 0) {\n                      Swal.fire({\n                        icon: \"error\",\n                        title: \"Bạn chưa chọn ghế\",\n                        text: \"Vui lòng chọn ghế ?\",\n                        confirmButtonText: \"Đã hiểu\",\n                      });\n                      return;\n                    }\n                    let userLogin = JSON.parse(\n                      localStorage.getItem(CURRENTUSER)\n                    );\n                    let objectAPI = {\n                      maLichChieu: props.match.params.maLichChieu,\n                      danhSachVe: movieShowtimes.bookingChairList,\n                      taiKhoanNguoiDung: userLogin.taiKhoan,\n                    };\n                    // console.log(objectAPI);\n                    const action = actBookTicket(objectAPI);\n                    dispatch(action);\n                    Swal.fire({\n                      icon: \"success\",\n                      title: \"Đặt vé thành công\",\n                      text: \"Kiểm tra trong lịch sử đặt vé\",\n                      confirmButtonText: \"Đồng ý\",\n                    }).then((result) => {\n                      if (result.isConfirmed) {\n                        dispatch(\n                          actGetMovieShowtimesApi(\n                            props.match.params.maLichChieu\n                          )\n                        );\n                      } else {\n                        dispatch(\n                          actGetMovieShowtimesApi(\n                            props.match.params.maLichChieu\n                          )\n                        );\n                      }\n                    });\n                  }}\n                  className={classes.buttonPurchase}\n                >\n                  ĐẶT VÉ\n                </Button>\n              </div>\n            </Grid>\n          ) : null}\n        </Grid>\n      )}\n    </div>\n  );\n}\nexport default Purchase;\n"]},"metadata":{},"sourceType":"module"}